<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             694c4d36bef4a             |
    |_______________________________________|
*/
 namespace Pmpr\Cover\Filefox\Page\Material; use Pmpr\Common\Foundation\FormGenerator\Common\Field\Selector\Level; use Pmpr\Common\Foundation\Frontend\TaxonomyEndPoint; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Common\Foundation\Interfaces\IconInterface; class Store extends TaxonomyEndPoint { const iwuquwyskkwmmkky = 'sort'; const wokukuuyyuygweko = 'page'; const qmewoaikoimaewia = 'search'; const gywsoeqgwwaqkuww = 'category'; const aigkyecsawoaioom = 'newest'; const mssmeykwoqwkwuym = 'price-asc'; const ecgkeuckukmqguwq = 'relevance'; const qomyiqeawacyimyk = 'price-desc'; const mekekaiqmqykwyui = 'most-viewed'; const symgiyyggiguocui = 'best-selling'; protected array $products = []; public function qiccuiwooiquycsg() { $this->ykuiyscecakwkmui(Constants::oeeqisiiqoswqqmy)->gswweykyogmsyawy(__('Store', PR__CVR__FILEFOX))->gecckeoacskeskii(__('Store', PR__CVR__FILEFOX)); parent::qiccuiwooiquycsg(); } public function uuycqmsuyqokygky() { $this->uwkmaywceaaaigwo()->kuggecgwaickowwu()->aimosgcaukumakge("^{$this->eywqecukyieuoaom()}/page/([0-9]+)/?", "index.php?endpoint_{$this->eywqecukyieuoaom()}=1&paged=\$matches[1]", 'top'); parent::uuycqmsuyqokygky(); } public function yggaamcokokeayoc() : int { return (int) max(1, (int) $this->uwkmaywceaaaigwo()->owicscwgeuqcqaig()->qaumqeeagueuqkcg(Constants::kkcqmwgccaygggcu, 1)); } public function rsysgcucogueguuk() : array { $qookweymeqawmcwo = parent::rsysgcucogueguuk(); $uycaaqiuaswwyamg = $this->kckogqkiycqeumoa(); $gusoaiguqeaommcc = $this->caokeucsksukesyo()->kugiyqykwaskawsc(); $icwkuwimswoisqss = $this->caokeucsksukesyo()->gagsyqagguwwauac(); $seumokooiykcomco = $this->caokeucsksukesyo()->ayueggmoqeeukqmq(); $aoskwucuugeuaeus = $this->caokeucsksukesyo()->kckogqkiycqeumoa(); $eiicaiwgqkgsekce = $this->caokeucsksukesyo()->giiecckwoyiawoyy(); $usmsssmiougymckk = $this->caokeucsksukesyo()->aqasygcsqysmmyke(); $wouussikswsmewme = $eiicaiwgqkgsekce->gkwaaeusmsaywikg(self::iwuquwyskkwmmkky, '', true); $qwcmueausqgiwigy = $eiicaiwgqkgsekce->gkwaaeusmsaywikg(self::qmewoaikoimaewia, '', true); $guwumyyyakswawas = $eiicaiwgqkgsekce->gkwaaeusmsaywikg(self::gywsoeqgwwaqkuww, Constants::ALL, true); $macmymywoaycksqc = 0; $sksqyikucwoogkuc = $this->ugwwucacaqucoqmo(); if (!$qwcmueausqgiwigy) { unset($sksqyikucwoogkuc[self::ecgkeuckukmqguwq]); } else { $macmymywoaycksqc++; } $iyyeeosquyeqmsow = __('Sort:', PR__CVR__FILEFOX); $qookweymeqawmcwo['sort_icon'] = IconInterface::cwcwgkmeegiamyog; $qookweymeqawmcwo['sort_label'] = $iyyeeosquyeqmsow; if (!empty($wouussikswsmewme)) { $iyyeeosquyeqmsow = $sksqyikucwoogkuc[$wouussikswsmewme] ?? $iyyeeosquyeqmsow; } $qookweymeqawmcwo['mobile_sort_label'] = $iyyeeosquyeqmsow; $qookweymeqawmcwo['filter_icon'] = IconInterface::ygcmqmkcsymeucoq; $qookweymeqawmcwo['filter_label'] = __('Filter', PR__CVR__FILEFOX); $qookweymeqawmcwo['filters_label'] = __('Filters', PR__CVR__FILEFOX); $qookweymeqawmcwo['sort_options'] = $sksqyikucwoogkuc; $wouussikswsmewme = isset($sksqyikucwoogkuc[$wouussikswsmewme]) ? $wouussikswsmewme : ''; $qookweymeqawmcwo['sort_by'] = $wouussikswsmewme; $igegswkgwguamwaa = $this->ocksiywmkyaqseou('get_material_related_product_cats', [], $this->mskmaeqwegseesye(), Constants::ckmqoekmugkggeym, true); $sigikaqqagycyuse = $gusoaiguqeaommcc->wcuaikyccmmcqaey(self::gywsoeqgwwaqkuww)->gswweykyogmsyawy(__('Categories', PR__CVR__FILEFOX)); if (!empty($igegswkgwguamwaa)) { $mucuiqkkmsaaycey = $this->gsouyukqugqkkgqm($igegswkgwguamwaa, __('All Categories', PR__CVR__FILEFOX), Constants::ALL); $sigikaqqagycyuse->iqmqokkwmywqeogq($mucuiqkkmsaaycey)->wcckcseugqwcsuqc('mb-3')->iygyugseyaqwywyg($guwumyyyakswawas); } $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $iwiewowoqmoekyqi = $aoskwucuugeuaeus->igawqaomowicuayw($uycaaqiuaswwyamg, 'search_placeholder'); if (empty($iwiewowoqmoekyqi)) { $iwiewowoqmoekyqi = __('Type something', PR__CVR__FILEFOX); } else { $iwiewowoqmoekyqi = sprintf(__('Like %s', PR__CVR__FILEFOX), $iwiewowoqmoekyqi); } $kgkgswoysuemwuui = [$gusoaiguqeaommcc->wowyaacgaccyeici('category_title')->wywmmeyauqkeskeq(!empty($igegswkgwguamwaa))->gswweykyogmsyawy($swqimwqeweekeusq->iaaacsuskiakkwui([__('Product name', PR__CVR__FILEFOX), $qwcmueausqgiwigy ? $swqimwqeweekeusq->gmqyuaqwgiayskei(__('Clear Search', PR__CVR__FILEFOX), ['class' => 'fs-xs text-danger my-auto clear-filter as-link', 'data-target' => self::qmewoaikoimaewia]) : ''], ['class' => 'd-flex justify-content-between']))->qigsyyqgewgskemg('fs-sm mb-2'), $gusoaiguqeaommcc->ymuegqgyuagyucws(self::qmewoaikoimaewia)->kyiucygqsgequoys($iwiewowoqmoekyqi)->qigsyyqgewgskemg('py-md-2 mb-3')->iygyugseyaqwywyg($qwcmueausqgiwigy)->smcqugueqiumkygs(), $gusoaiguqeaommcc->wowyaacgaccyeici('category_title')->gswweykyogmsyawy($swqimwqeweekeusq->iaaacsuskiakkwui([__('Product Category', PR__CVR__FILEFOX), $guwumyyyakswawas && $guwumyyyakswawas !== Constants::ALL ? $swqimwqeweekeusq->gmqyuaqwgiayskei(__('Clear Category', PR__CVR__FILEFOX), ['class' => 'fs-xs text-danger my-auto clear-filter as-link', 'data-target' => self::gywsoeqgwwaqkuww]) : ''], ['class' => 'd-flex justify-content-between']))->qigsyyqgewgskemg('fs-sm mb-2'), $sigikaqqagycyuse]; $qawuqcsueakkgiio = $this->yggaamcokokeayoc(); $ywmkwiwkosakssii = [Constants::kkcqmwgccaygggcu => $qawuqcsueakkgiio, Constants::ymckmcsiymwqucoq => Constants::oyaoekcogwkcekcc, Constants::goqgcigmiawyauai => $this->ocksiywmkyaqseou('loop_shop_per_page', 12), Constants::kymceekcoyyeuocm => [[Constants::gmmygyiecgmggaam => Constants::oeeqisiiqoswqqmy, Constants::gueokgaoyascgeqe => Constants::ooqggksagkoaeeke, Constants::ucoiewcoucauqwko => $this->mskmaeqwegseesye()]]]; switch ($wouussikswsmewme) { case self::symgiyyggiguocui: $ywmkwiwkosakssii[Constants::osocaqqumyuooqyo] = 'total_sales'; $ywmkwiwkosakssii[Constants::gqiasegggowomgie] = Constants::weyywqiacasssaww; $ywmkwiwkosakssii[Constants::awkcoioakcaougmq] = Constants::omaksceqmigeaoko; break; case self::ecgkeuckukmqguwq: $ywmkwiwkosakssii[Constants::gqiasegggowomgie] = $wouussikswsmewme; break; case self::mekekaiqmqykwyui: break; case self::aigkyecsawoaioom: $ywmkwiwkosakssii[Constants::gqiasegggowomgie] = Constants::kumuoysauoagaiiy; $ywmkwiwkosakssii[Constants::awkcoioakcaougmq] = Constants::omaksceqmigeaoko; break; case self::mssmeykwoqwkwuym: $ywmkwiwkosakssii[Constants::osocaqqumyuooqyo] = '_price'; $ywmkwiwkosakssii[Constants::gqiasegggowomgie] = Constants::weyywqiacasssaww; $ywmkwiwkosakssii[Constants::awkcoioakcaougmq] = Constants::eeccqomoaqsawouy; break; case self::qomyiqeawacyimyk: $ywmkwiwkosakssii[Constants::osocaqqumyuooqyo] = '_price'; $ywmkwiwkosakssii[Constants::gqiasegggowomgie] = Constants::weyywqiacasssaww; $ywmkwiwkosakssii[Constants::awkcoioakcaougmq] = Constants::omaksceqmigeaoko; break; } if ($qwcmueausqgiwigy) { $ywmkwiwkosakssii['s'] = $qwcmueausqgiwigy; } if (is_numeric($guwumyyyakswawas)) { $macmymywoaycksqc++; $ywmkwiwkosakssii[Constants::kymceekcoyyeuocm][] = [Constants::gmmygyiecgmggaam => Constants::cmckeoksigiaqykc, Constants::gueokgaoyascgeqe => Constants::ooqggksagkoaeeke, Constants::ucoiewcoucauqwko => $guwumyyyakswawas]; } $gqgemcmoicmgaqie = $seumokooiykcomco->owicscwgeuqcqaig(Constants::oguseymmyyoyaako, $ywmkwiwkosakssii); $qookweymeqawmcwo['product_count_text'] = sprintf(__('%s File', PR__CVR__FILEFOX), $icwkuwimswoisqss->eusockqasqqmoess($gqgemcmoicmgaqie->found_posts)); $this->products = $gqgemcmoicmgaqie->get_posts(); $oksqskmgoqiqciis = []; foreach ($this->products as $umkkkaqkwugkemce) { $product = $usmsssmiougymckk->get($umkkkaqkwugkemce); $oksqskmgoqiqciis[$umkkkaqkwugkemce] = [Constants::qescuiwgsyuikume => $usmsssmiougymckk->qcgakseyaikigqco($product), Constants::egwoacukmsioosum => $usmsssmiougymckk->qaeeusqkgwagwaqc($product, Constants::MEDIUM, ['class' => 'img-fluid w-100 mx-auto d-block']), Constants::sauwwsocmukoaayu => $usmsssmiougymckk->ycqquoiyyuesegsy($product), Constants::ueasagmikqewqcay => $usmsssmiougymckk->iimgkucsckeosmmk($product), Constants::ckcuiukmyisueqeo => $this->ocksiywmkyaqseou('get_product_numeric_metadata', [], $umkkkaqkwugkemce, [Constants::ackcaikowcokggsc => [Constants::kasiqisuaessmwua, Constants::uwycywkimsycqwcy]])]; } $qookweymeqawmcwo['filter_effects'] = $macmymywoaycksqc; $uaeaasucimessaoa = $gusoaiguqeaommcc->ywoasuyoaicwqqsu($kgkgswoysuemwuui); $uaeaasucimessaoa .= $swqimwqeweekeusq->iaaacsuskiakkwui($gusoaiguqeaommcc->ywoasuyoaicwqqsu([$gusoaiguqeaommcc->qoeiescseggagsqs('submit_filter')->gswweykyogmsyawy(__('Show Results', PR__CVR__FILEFOX))->qigsyyqgewgskemg('btn primary-white w-100')->wcckcseugqwcsuqc('flex-grow-1')->qiqckusosoksgaua(), $gusoaiguqeaommcc->qoeiescseggagsqs('clear_filter')->qiqckusosoksgaua()->gswweykyogmsyawy(__('Clear Filter', PR__CVR__FILEFOX))->qigsyyqgewgskemg('btn btn-outline-danger w-100')->qigsyyqgewgskemg($macmymywoaycksqc <= 0 ? 'disabled' : '')->wcckcseugqwcsuqc('flex-grow-1')]), ['class' => 'd-flex gap-2']); $qookweymeqawmcwo['filter_fields'] = $uaeaasucimessaoa; if ($oksqskmgoqiqciis) { $qookweymeqawmcwo[Constants::kmqmeaywmyiqqkqw] = $oksqskmgoqiqciis; $qookweymeqawmcwo['pagination_args'] = [Constants::uiiqiokqwmccomiu => $gqgemcmoicmgaqie->max_num_pages, Constants::asmooogmgyecqqka => $qawuqcsueakkgiio, Constants::kkwcgeymmoomceyo => untrailingslashit($aoskwucuugeuaeus->qmgcisuuikgmqcsu($uycaaqiuaswwyamg)) . '/store/%_%']; } else { $qookweymeqawmcwo['empty_title'] = __('No results found!', PR__CVR__FILEFOX); $qookweymeqawmcwo['empty_text'] = __('Try again or use other filters', PR__CVR__FILEFOX); $qookweymeqawmcwo['empty_icon'] = IconInterface::ymyiywwagwqmmuuk; } return $qookweymeqawmcwo; } public function gsouyukqugqkkgqm(array $eyscsimwcyaqakqg, string $wmouowcqoqaousmq = '', $qyymcsomkskcasye = 1, ?Level $oogmyeayemwkcqqa = null) { $gusoaiguqeaommcc = $this->caokeucsksukesyo()->kugiyqykwaskawsc(); $aoskwucuugeuaeus = $this->caokeucsksukesyo()->kckogqkiycqeumoa(); $xwwgygqkqwuaqwsa = []; $yewcgewcukuicgaq = $gusoaiguqeaommcc->imcisiagskowcgys($qyymcsomkskcasye)->gswweykyogmsyawy($wmouowcqoqaousmq); if ($oogmyeayemwkcqqa) { $yewcgewcukuicgaq->mmuyuqussqkgkega($oogmyeayemwkcqqa->mwikyscisascoeea())->uemyyeiqssimkosq(''); $yewcgewcukuicgaq->oeewiaacscgyamai($gusoaiguqeaommcc->qyiqwoqimqmsggkm($qyymcsomkskcasye)->mmuyuqussqkgkega($qyymcsomkskcasye)->saemoowcasogykak(IconInterface::wukkqukiiuuoyiiy)->gswweykyogmsyawy($aoskwucuugeuaeus->qcgakseyaikigqco($qyymcsomkskcasye))); } else { $yewcgewcukuicgaq->oeewiaacscgyamai($gusoaiguqeaommcc->qyiqwoqimqmsggkm($qyymcsomkskcasye)->mmuyuqussqkgkega($qyymcsomkskcasye)->saemoowcasogykak(IconInterface::wukkqukiiuuoyiiy)->gswweykyogmsyawy($wmouowcqoqaousmq)); } $xwwgygqkqwuaqwsa[] = $yewcgewcukuicgaq; foreach ($eyscsimwcyaqakqg as $ucicuwcaawugkseg => $guwumyyyakswawas) { $omkysikckkcieckq = $gusoaiguqeaommcc->qyiqwoqimqmsggkm($ucicuwcaawugkseg)->mmuyuqussqkgkega($qyymcsomkskcasye)->saemoowcasogykak(IconInterface::wukkqukiiuuoyiiy); if (is_array($guwumyyyakswawas)) { $essieqomeqiyausc = $guwumyyyakswawas[Constants::miceosguuseyyuqe] ?? null; $omkysikckkcieckq->gswweykyogmsyawy($aoskwucuugeuaeus->qcgakseyaikigqco($essieqomeqiyausc)); $wqqimwumimcmooqm = $this->gsouyukqugqkkgqm($guwumyyyakswawas[Constants::geocwaecmeeskuci], $omkysikckkcieckq->qcgakseyaikigqco(), $ucicuwcaawugkseg, $yewcgewcukuicgaq); foreach ($wqqimwumimcmooqm as $ewiyueqkakmoesoo) { $xwwgygqkqwuaqwsa[] = $ewiyueqkakmoesoo; } $omkysikckkcieckq->cgywqomcsaqkswgi(); } else { $omkysikckkcieckq->gswweykyogmsyawy($aoskwucuugeuaeus->qcgakseyaikigqco($guwumyyyakswawas)); } $yewcgewcukuicgaq->oeewiaacscgyamai($omkysikckkcieckq); } return $xwwgygqkqwuaqwsa; } public function ugwwucacaqucoqmo() : array { return [self::symgiyyggiguocui => __('Best Selling', PR__CVR__FILEFOX), self::ecgkeuckukmqguwq => __('Relevance', PR__CVR__FILEFOX), self::mekekaiqmqykwyui => __('Most Viewed', PR__CVR__FILEFOX), self::aigkyecsawoaioom => __('Newest', PR__CVR__FILEFOX), self::mssmeykwoqwkwuym => __('Price: Low to High', PR__CVR__FILEFOX), self::qomyiqeawacyimyk => __('Price: High to Low', PR__CVR__FILEFOX)]; } public function enqueue() { $this->caokeucsksukesyo()->usugyumcgeaaowsi()->kyiqommgeuoiocgk(); } public function iayqiaeummmasuwu($yyumgaegewakieyo) { return $yyumgaegewakieyo->geiywuooaemaewge(true, $this->products, $this->yggaamcokokeayoc()); } }
